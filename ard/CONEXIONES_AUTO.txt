╔════════════════════════════════════════════════════════════════════════════╗
║                    🚗 CONEXIONES DEL AUTO WIFI 🚗                          ║
║                          ESP8266 + L298N                                   ║
╚════════════════════════════════════════════════════════════════════════════╝

┌──────────────────────────────────────────────────────────────────────────┐
│                         📋 LISTA DE COMPONENTES                          │
└──────────────────────────────────────────────────────────────────────────┘

  • 1x Wemos D1 Mini (ESP8266)
  • 1x Driver L298N
  • 2x Motores DC (Delanteros)
  • 2x Motores DC (Traseros)
  • 1x Buzzer Activo/Pasivo
  • 1x Sensor IR (Opcional)
  • 1x Batería (9-12V recomendado)
  • 1x Interruptor
  • Cables jumper


┌──────────────────────────────────────────────────────────────────────────┐
│                    ⚡ ALIMENTACIÓN (MUY IMPORTANTE)                      │
└──────────────────────────────────────────────────────────────────────────┘

    Batería (+) ──────► Interruptor ──────► L298N [+12V]
                                              │
    Batería (–) ───────────────────────────► L298N [GND]
                                              │
                            ┌─────────────────┤
                            │                 │
                      L298N [5V] ─────► Wemos [5V]
                            │
                      L298N [GND] ────► Wemos [GND]

  ⚠️ IMPORTANTE:
     • Conecta el GND del L298N al GND del Wemos
     • Usa la salida de 5V del L298N para alimentar el Wemos
     • Batería recomendada: 9-12V


┌──────────────────────────────────────────────────────────────────────────┐
│                        🔌 MOTORES → L298N                                │
└──────────────────────────────────────────────────────────────────────────┘

  ═══════════════════════════════════════════════════════════════════════
  
  📍 PASO 1: IDENTIFICA LOS CONECTORES DEL L298N
  
     El L298N tiene 4 conectores azules de tornillo para los motores:
     
     [OUT1] [OUT2]  |  [OUT3] [OUT4]
        │      │          │      │
     Motor A           Motor B
    (Delanteros)      (Traseros)
  
  ═══════════════════════════════════════════════════════════════════════
  
  📍 PASO 2: IDENTIFICA LOS CABLES DE TUS MOTORES
  
     Cada motor DC tiene 2 cables:
     • Cable ROJO o con marca (+) = Positivo
     • Cable NEGRO o sin marca (–) = Negativo
     
     ⚠️ Si tus motores no tienen colores, no importa, los conectas
        en cualquier orden. Si van al revés, los invertimos después.
  
  ═══════════════════════════════════════════════════════════════════════
  
  📍 PASO 3: CONECTA LOS MOTORES DELANTEROS (MOTOR A)
  
     1. Toma el cable (+) del motor delantero IZQUIERDO
     2. Conéctalo al tornillo [OUT1] del L298N
     3. Aprieta el tornillo con destornillador
     
     4. Toma el cable (–) del motor delantero IZQUIERDO
     5. Conéctalo al tornillo [OUT2] del L298N
     6. Aprieta el tornillo
     
     Si tienes 2 motores delanteros:
     • Motor delantero DERECHO (+) también va a OUT1
     • Motor delantero DERECHO (–) también va a OUT2
     
     🔧 Opción: Puedes empalmar (unir) los cables antes del L298N:
     
        Motor IZQ (+) ─┐
                       ├──► OUT1
        Motor DER (+) ─┘
        
        Motor IZQ (–) ─┐
                       ├──► OUT2
        Motor DER (–) ─┘
  
  ═══════════════════════════════════════════════════════════════════════
  
  📍 PASO 4: CONECTA LOS MOTORES TRASEROS (MOTOR B)
  
     1. Toma el cable (+) del motor trasero IZQUIERDO
     2. Conéctalo al tornillo [OUT3] del L298N
     3. Aprieta el tornillo con destornillador
     
     4. Toma el cable (–) del motor trasero IZQUIERDO
     5. Conéctalo al tornillo [OUT4] del L298N
     6. Aprieta el tornillo
     
     Si tienes 2 motores traseros:
     • Motor trasero DERECHO (+) también va a OUT3
     • Motor trasero DERECHO (–) también va a OUT4
     
     🔧 Opción: Puedes empalmar los cables antes del L298N:
     
        Motor IZQ (+) ─┐
                       ├──► OUT3
        Motor DER (+) ─┘
        
        Motor IZQ (–) ─┐
                       ├──► OUT4
        Motor DER (–) ─┘
  
  ═══════════════════════════════════════════════════════════════════════
  
  📍 RESUMEN VISUAL:
  
                    ╔═══════════════════════════════╗
                    ║         L298N DRIVER          ║
                    ╠═══════════════════════════════╣
     Delanteros:    ║ [OUT1] (+) Motores Delanteros ║
                    ║ [OUT2] (–) Motores Delanteros ║
                    ║                               ║
     Traseros:      ║ [OUT3] (+) Motores Traseros   ║
                    ║ [OUT4] (–) Motores Traseros   ║
                    ╚═══════════════════════════════╝
  
  ═══════════════════════════════════════════════════════════════════════
  
  ⚠️ ¿QUÉ PASA SI LOS MOTORES GIRAN AL REVÉS?
  
     Cuando pruebes el auto:
     • Si aprietas ADELANTE pero van ATRÁS
     • O si aprietas IZQUIERDA pero va DERECHA
     
     🔧 SOLUCIÓN FÁCIL - HAZ UNA DE ESTAS:
     
     Opción 1 (Recomendada): INVIERTE LOS CABLES FÍSICAMENTE
        • Desconecta los cables del motor problemático
        • Intercambia el cable de OUT1 ↔ OUT2 (para delanteros)
        • O intercambia el cable de OUT3 ↔ OUT4 (para traseros)
     
     Opción 2: Modifica el código Arduino
        • Ya lo hice por ti en el código actual
        • El código compensa si están invertidos
  
  ═══════════════════════════════════════════════════════════════════════
  
  🔍 EJEMPLO PRÁCTICO CON 4 MOTORES:
  
     Auto visto desde ARRIBA:
     
        [Motor DELANTERO IZQ]    [Motor DELANTERO DER]
             (+)    (–)               (+)    (–)
              │      │                 │      │
              └──┬───┘                 └──┬───┘
                 │    Ambos van juntos    │
                 ├─────────────────────────┤
                 │                         │
              [OUT1]                    [OUT2]
              
     
        [Motor TRASERO IZQ]      [Motor TRASERO DER]
             (+)    (–)               (+)    (–)
              │      │                 │      │
              └──┬───┘                 └──┬───┘
                 │    Ambos van juntos    │
                 ├─────────────────────────┤
                 │                         │
              [OUT3]                    [OUT4]
  
  ═══════════════════════════════════════════════════════════════════════
  
  💡 CONSEJO IMPORTANTE:
  
     • Usa caimanes, conectores de paleta o solda los cables
     • Asegura bien los cables para que no se suelten con vibración
     • Si solo tienes 2 motores (uno delantero, uno trasero):
       → Delantero va a OUT1 y OUT2
       → Trasero va a OUT3 y OUT4
  
  ═══════════════════════════════════════════════════════════════════════


┌──────────────────────────────────────────────────────────────────────────┐
│                    🎛️ CONTROL L298N ← WEMOS                             │
└──────────────────────────────────────────────────────────────────────────┘

  ┌─── MOTOR A (DELANTEROS) ───┐
  │                              │
  │  L298N [ENA] ◄─── Wemos [D1]│
  │  L298N [IN1] ◄─── Wemos [D2]│
  │  L298N [IN2] ◄─── Wemos [D3]│
  │                              │
  └──────────────────────────────┘

  ┌─── MOTOR B (TRASEROS) ─────┐
  │                              │
  │  L298N [ENB] ◄─── Wemos [D5]│
  │  L298N [IN3] ◄─── Wemos [D6]│
  │  L298N [IN4] ◄─── Wemos [D7]│
  │                              │
  └──────────────────────────────┘

  ⚠️ VERIFICA LOS JUMPERS:
     • El jumper de ENA debe estar PUESTO
     • El jumper de ENB debe estar PUESTO
     • (Estos permiten control PWM de velocidad)


┌──────────────────────────────────────────────────────────────────────────┐
│                        🔊 BUZZER → WEMOS                                 │
└──────────────────────────────────────────────────────────────────────────┘

    Buzzer [+] ──────► Wemos [D0]
    Buzzer [–] ──────► Wemos [GND]


┌──────────────────────────────────────────────────────────────────────────┐
│                    👁️ SENSOR IR → WEMOS (Opcional)                      │
└──────────────────────────────────────────────────────────────────────────┘

    Sensor IR [OUT] ──► Wemos [D4]
    Sensor IR [VCC] ──► Wemos [3.3V]
    Sensor IR [GND] ──► Wemos [GND]


┌──────────────────────────────────────────────────────────────────────────┐
│                    📊 TABLA RESUMEN DE CONEXIONES                        │
└──────────────────────────────────────────────────────────────────────────┘

╔═══════════════╦══════════════════╦═══════════════════════════════════════╗
║  COMPONENTE   ║      PIN         ║          CONECTAR A                   ║
╠═══════════════╬══════════════════╬═══════════════════════════════════════╣
║               ║                  ║                                       ║
║               ║  +12V            ║  Batería (+) via Interruptor          ║
║   L298N       ║  GND             ║  Batería (–) + Wemos GND              ║
║               ║  5V              ║  Wemos 5V                             ║
║               ║                  ║                                       ║
║               ║  OUT1            ║  Motor Delantero (+)                  ║
║               ║  OUT2            ║  Motor Delantero (–)                  ║
║               ║  OUT3            ║  Motor Trasero (+)                    ║
║               ║  OUT4            ║  Motor Trasero (–)                    ║
║               ║                  ║                                       ║
║               ║  ENA (jumper ON) ║  Wemos D1                             ║
║               ║  IN1             ║  Wemos D2                             ║
║               ║  IN2             ║  Wemos D3                             ║
║               ║  ENB (jumper ON) ║  Wemos D5                             ║
║               ║  IN3             ║  Wemos D6                             ║
║               ║  IN4             ║  Wemos D7                             ║
╠═══════════════╬══════════════════╬═══════════════════════════════════════╣
║   Buzzer      ║  (+)             ║  Wemos D0                             ║
║               ║  (–)             ║  Wemos GND                            ║
╠═══════════════╬══════════════════╬═══════════════════════════════════════╣
║  Sensor IR    ║  OUT             ║  Wemos D4                             ║
║  (Opcional)   ║  VCC             ║  Wemos 3.3V                           ║
║               ║  GND             ║  Wemos GND                            ║
╚═══════════════╩══════════════════╩═══════════════════════════════════════╝


┌──────────────────────────────────────────────────────────────────────────┐
│                        🔧 CHECKLIST DE VERIFICACIÓN                      │
└──────────────────────────────────────────────────────────────────────────┘

  [ ] Batería conectada a L298N +12V y GND
  [ ] Interruptor en la línea positiva de la batería
  [ ] L298N 5V conectado a Wemos 5V
  [ ] GND común entre L298N, Wemos y Batería
  [ ] Motores delanteros en OUT1 y OUT2
  [ ] Motores traseros en OUT3 y OUT4
  [ ] Jumpers ENA y ENB están PUESTOS en el L298N
  [ ] IN1 → D2, IN2 → D3, IN3 → D6, IN4 → D7
  [ ] ENA → D1, ENB → D5
  [ ] Buzzer conectado a D0 y GND
  [ ] Código cargado en el Wemos
  [ ] Velocidad en el código: 850 (ajustable)


┌──────────────────────────────────────────────────────────────────────────┐
│                        ⚠️ SOLUCIÓN DE PROBLEMAS                          │
└──────────────────────────────────────────────────────────────────────────┘

  🔴 LAS 4 RUEDAS NO SE MUEVEN
     → Verifica que la batería esté cargada
     → Revisa el interruptor
     → Verifica conexión de alimentación al L298N

  🔴 SOLO MOTORES DELANTEROS FUNCIONAN
     → Verifica que el jumper ENB esté PUESTO
     → Revisa cables OUT3 y OUT4
     → Verifica conexiones IN3, IN4, ENB al Wemos

  🔴 SOLO MOTORES TRASEROS FUNCIONAN
     → Verifica que el jumper ENA esté PUESTO
     → Revisa cables OUT1 y OUT2
     → Verifica conexiones IN1, IN2, ENA al Wemos

  🔴 MOTORES GIRAN AL REVÉS
     → Invierte los cables (+) y (–) del motor problemático
     → O modifica el código invirtiendo IN1/IN2 o IN3/IN4

  🔴 WEMOS NO ENCIENDE
     → Verifica conexión L298N 5V → Wemos 5V
     → Verifica GND común
     → Prueba alimentar el Wemos por USB para diagnóstico


┌──────────────────────────────────────────────────────────────────────────┐
│                        📱 CÓMO USAR EL AUTO                              │
└──────────────────────────────────────────────────────────────────────────┘

  🌐 CONTROL POR WIFI:
     1. Enciende el auto
     2. Conecta tu celular/tablet a la red: AUTO_NICO
     3. Contraseña: 12345678
     4. Abre el navegador y ve a: http://192.168.4.1
     5. Usa los botones en pantalla

  ⌨️ CONTROL POR SERIAL (USB):
     1. Conecta el Wemos a la PC por USB
     2. Abre el Serial Monitor (115200 baudios)
     3. Escribe ? para ver comandos
     4. Usa W/A/S/D para controlar
     5. Usa +/- para ajustar velocidad


┌──────────────────────────────────────────────────────────────────────────┐
│                        🎮 COMANDOS SERIAL MONITOR                        │
└──────────────────────────────────────────────────────────────────────────┘

  W = Adelante
  S = Atrás
  A = Izquierda
  D = Derecha
  X = Parar
  H = Bocina
  + = Aumentar velocidad
  - = Disminuir velocidad
  ? = Mostrar ayuda


┌──────────────────────────────────────────────────────────────────────────┐
│                        ⚙️ CONFIGURACIÓN EN EL CÓDIGO                     │
└──────────────────────────────────────────────────────────────────────────┘

  • SSID WiFi:     AUTO_NICO
  • Password:      12345678
  • Velocidad:     850 (0-1023)
  • IP del Auto:   192.168.4.1


═══════════════════════════════════════════════════════════════════════════

  💡 CONSEJOS:
     • Usa baterías de 9-12V para mejor rendimiento
     • Si los motores van débiles, ajusta la velocidad en el código
     • Mantén los cables cortos para evitar interferencias
     • Asegura bien todas las conexiones

  🚗 ¡Disfruta tu auto WiFi! 🚗

═══════════════════════════════════════════════════════════════════════════

